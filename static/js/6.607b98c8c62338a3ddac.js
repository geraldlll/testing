(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{119:function(e,t,n){"use strict";n.r(t);var a=n(143),o={props:{managers:Array,pageNum:Number,pageCount:Number},created(){},computed:{},methods:{gotoDetail:function(e,t){this.$router.push({path:`/manager/${e}/${t}`})},gotoFundDetail:function(e,t){this.$router.push({path:`/fund/${e}/${t}`})},indexMethod:function(e){return e+1+20*(this.pageNum-1)},pagechange:function(e){this.$emit("page-change",e)},exportPdf(e){Object(a.a)(`/finance/manager/${e}/pdf`).then(e=>{this.$alert("正在为您生成pdf格式的报告，请耐心等候。生成完毕后会发到你的邮箱","提示",{confirmButtonText:"OK"})})}},components:{}},l=(n(355),n(0)),i=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"10px"}},[e.managers&&e.managers.length>0?n("table-plus",{attrs:{data:e.managers}},[n("el-table-column",{attrs:{type:"index",index:e.indexMethod}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名字",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"fund-text",on:{click:function(n){return e.gotoDetail(t.row.code,t.row.name)}}},[e._v(e._s(t.row.name))])]}}],null,!1,2499619070)}),e._v(" "),n("el-table-column",{attrs:{prop:"company",label:"公司名字",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"mainFund",label:"主力基金",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"fund-text",on:{click:function(n){return e.gotoFundDetail(t.row.mainFund.fundCode,t.row.mainFund.fundName)}}},[t.row.mainFund?n("span",[e._v(e._s(t.row.mainFund.fundName))]):e._e(),e._v(" "),t.row.mainFund?n("span",[e._v(e._s(t.row.mainFund.fundCode))]):e._e()])]}}],null,!1,1846811911)}),e._v(" "),n("el-table-column",{attrs:{label:"详情",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.gotoDetail(t.row.code,t.row.name)}}},[e._v("...")])]}}],null,!1,1957832214)}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.exportPdf(t.row.code)}}},[e._v("生成pdf")])]}}],null,!1,1791644826)})],1):e._e(),e._v(" "),e.pageCount?n("div",{staticClass:"block"},[n("el-pagination",{attrs:{layout:"prev, pager, next","page-count":e.pageCount,"current-page":e.pageNum},on:{"current-change":e.pagechange}})],1):e._e()],1)}),[],!1,null,"d6273d4c",null).exports,s={data:()=>({industries:[{swlevel1code:1,swlevel1:""}],managers:[],selection:{marketType:null,style1:null,style2:null,industry:null,pageNum:1,pageCount:0}}),created(){Object(a.a)("/finance/config/swcodes").then(e=>{this.industries=e.data});let e=this.$store.state.selection;if(e){for(let t of Object.keys(e))this.selection[t]=e[t];this.filter()}},computed:{},methods:{filter:function(){return window.store.commit("SAVE_SELECTION",this.selection),Object(a.b)("/finance/manager/list",{adaptive:this.selection.marketType,style1:this.selection.style1,style2:this.selection.style2,swlevel1:this.selection.industry,pageSize:20,pageNum:this.selection.pageNum}).then(e=>{0===e.code&&(this.managers=e.data.map(e=>({name:e.name,code:e.code,company:e.company,mainFund:e.managedFundDtoList&&e.managedFundDtoList.reduce((e,t)=>e&&e.amount>=t.amount?e:t,null)})),this.selection.pageCount=e.pageDto.pages)})},pagechange:function(e){this.selection.pageNum=e,this.filter()},switchMode:function(){window.store.commit("SAVE_SELECTION",null),this.$emit("switch-mode")}},components:{managerList:i}},r=(n(357),Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"10px"}},[n("div",[n("label",{staticClass:"type-label"},[e._v("适应性: ")]),e._v(" "),n("el-radio-group",{model:{value:e.selection.marketType,callback:function(t){e.$set(e.selection,"marketType",t)},expression:"selection.marketType"}},[n("el-radio",{attrs:{label:"牛市"}},[e._v("牛市")]),e._v(" "),n("el-radio",{attrs:{label:"熊市"}},[e._v("熊市")]),e._v(" "),n("el-radio",{attrs:{label:"震荡市"}},[e._v("震荡市")]),e._v(" "),n("el-radio",{attrs:{label:null}},[e._v("不选")])],1)],1),e._v(" "),n("br"),e._v(" "),n("div",[n("label",{staticClass:"type-label"},[e._v("风格: ")]),e._v(" "),n("el-select",{model:{value:e.selection.style1,callback:function(t){e.$set(e.selection,"style1",t)},expression:"selection.style1"}},[n("el-option",{attrs:{value:"成长"}}),e._v(" "),n("el-option",{attrs:{value:"价值"}}),e._v(" "),n("el-option",{attrs:{label:"不选择",value:null}})],1),e._v(" "),n("el-select",{model:{value:e.selection.style2,callback:function(t){e.$set(e.selection,"style2",t)},expression:"selection.style2"}},[n("el-option",{attrs:{value:"大盘"}}),e._v(" "),n("el-option",{attrs:{value:"小盘"}}),e._v(" "),n("el-option",{attrs:{label:"不选择",value:null}})],1)],1),e._v(" "),n("br"),e._v(" "),n("div",[n("label",{staticClass:"type-label"},[e._v("行业: ")]),e._v(" "),n("el-select",{model:{value:e.selection.industry,callback:function(t){e.$set(e.selection,"industry",t)},expression:"selection.industry"}},[e._l(e.industries,(function(e){return n("el-option",{key:e.swlevel1code,attrs:{value:e.swlevel1}})})),e._v(" "),n("el-option",{key:"all",attrs:{value:null,label:"全部行业"}})],2)],1),e._v(" "),n("br"),e._v(" "),n("el-button",{on:{click:e.filter}},[e._v("筛选")]),e._v(" "),n("el-button",{staticStyle:{"padding-left":"40px"},attrs:{type:"text"},on:{click:e.switchMode}},[e._v("切换到简单模式")]),e._v(" "),n("br"),e._v(" "),n("manager-list",{attrs:{managers:e.managers,pageCount:e.selection.pageCount,pageNum:e.selection.pageNum},on:{"page-change":e.pagechange}})],1)}),[],!1,null,"deae9970",null).exports),c={data:()=>({searchKey:"",managers:[],pageNum:1,pageCount:0}),created(){},computed:{},methods:{search:function(){Object(a.b)("/finance/manager/search",{searchKey:this.searchKey,pageSize:20,pageNum:this.pageNum}).then(e=>{0===e.code&&(this.managers=e.data.map(e=>({name:e.name,code:e.code,company:e.company,mainFund:e.managedFundDtoList&&e.managedFundDtoList.reduce((e,t)=>e&&e.amount>=t.amount?e:t,null)})),this.pageCount=e.pageDto.pages)})},pagechange:function(e){this.pageNum=e,this.search()},switchMode:function(){this.$emit("switch-mode")}},components:{managerList:i}},u=(n(359),{data(){return{mode:this.$store.state.selection?1:0}},created(){},computed:{},methods:{switchMode:function(){this.mode=(this.mode+1)%2}},components:{filterContent:r,searchContent:Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"10px"}},[n("el-row",[n("el-col",{attrs:{span:9}},[n("el-input",{attrs:{placeholder:"请输入基金经理名字、基金名字或公司名字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{attrs:{type:"text"},on:{click:e.switchMode}},[e._v("切换到高级模式")])],1)],1),e._v(" "),n("br"),e._v(" "),n("manager-list",{attrs:{managers:e.managers,pageCount:e.pageCount,pageNum:e.pageNum},on:{"page-change":e.pagechange}})],1)}),[],!1,null,"1ba319dd",null).exports}}),d=Object(l.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{padding:"10px"}},[0==this.mode?t("search-content",{on:{"switch-mode":this.switchMode}}):this._e(),this._v(" "),1==this.mode?t("filter-content",{on:{"switch-mode":this.switchMode}}):this._e()],1)}),[],!1,null,null,null);t.default=d.exports},143:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(22);function o(e){var t=e.code,n=window.location.href,o=encodeURIComponent(n);if(0!==t){if(401==t)return void Object(a.a)(`/login.html?url${o}`);var l=e.msg||"系统异常";Vue.modal?Vue.modal.toast(l):window.store?window.store.commit("TOAST",l):window.alertMsg&&alertMsg(l)}return e}function l(e,t={},n){return i(e,t,n,"post")}function i(t,n={},a,l){var i=e.Deferred();return e.ajax({url:t,data:"get"==l?n:JSON.stringify(n),method:l,dataType:"json",async:!a,contentType:"application/json",headers:{Authorization:window.localStorage.getItem("token")},processData:"get"==l}).done((function(e){e.code?(o(e),i.reject(e)):i.resolve(e)})).fail((function(e){o(e),Vue.modal&&Vue.modal.toast("网络异常"),window.store&&window.store.commit("网络异常"),window.alertMsg&&alertMsg("网络异常"),i.reject(e)})),i}function s(e,t,n){return i(e,t,n,"get")}}).call(this,n(1))},216:function(e,t,n){var a=n(356);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(3)(a,o);a.locals&&(e.exports=a.locals)},217:function(e,t,n){var a=n(358);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(3)(a,o);a.locals&&(e.exports=a.locals)},218:function(e,t,n){var a=n(360);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(3)(a,o);a.locals&&(e.exports=a.locals)},355:function(e,t,n){"use strict";var a=n(216);n.n(a).a},356:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".type-label[data-v-d6273d4c]{width:60px;font-size:16px;display:inline-block}.fund-text[data-v-d6273d4c]{text-decoration:underline}.fund-text[data-v-d6273d4c]:hover{cursor:pointer}\n",""])},357:function(e,t,n){"use strict";var a=n(217);n.n(a).a},358:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".type-label[data-v-deae9970]{width:60px;font-size:16px;display:inline-block}.fund-text[data-v-deae9970]{text-decoration:underline}.fund-text[data-v-deae9970]:hover{cursor:pointer}\n",""])},359:function(e,t,n){"use strict";var a=n(218);n.n(a).a},360:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".type-label[data-v-1ba319dd]{width:60px;font-size:16px;display:inline-block}.fund-text[data-v-1ba319dd]{text-decoration:underline}.fund-text[data-v-1ba319dd]:hover{cursor:pointer}\n",""])}}]);
//# sourceMappingURL=6.607b98c8c62338a3ddac.js.map