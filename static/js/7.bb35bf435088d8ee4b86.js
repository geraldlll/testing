(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{120:function(t,e,n){"use strict";n.r(e);var s=n(143);
/*!
 * vue-truncate-collapsed v2.1.0
 * (c) 2018-present João Vitor Cavalcante
 * Released under the MIT License.
 */
!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),n=" a[data-v-11b2e33f] { cursor: pointer; } ";e.type="text/css",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),t.appendChild(e)}}();var o=n(363),a={data:()=>({params:"",strategy:"",managers:[],holdings:[],showHoldingHistory:!1}),created(){this.params=this.$route.params;let t=this.params.code;Object(s.a)(`/finance/fund/${t}/strategy`).then(t=>{0===t.code&&(this.strategy=t.data)}),Object(s.a)(`/finance/fund/${t}/manager`).then(t=>{0===t.code&&(this.managers=t.data)}),Object(s.a)(`/finance/fund/${t}/holding`).then(t=>{let e={},n=t=>{let n=10*t.year+t.quarter;e[n]||(e[n]={}),e[n][t.stockCode]||(e[n][t.stockCode]=t)};t.data.big10.forEach(n),t.data.detail.forEach(n),this.holdings=[];for(let t of Object.keys(e)){let n=parseInt(t),s=n%10,o=Math.floor(n/10),a=[];for(let n of Object.keys(e[t]))a.push(e[t][n]);this.holdings.push({quarter:s,year:o,intKey:n,holdings:a})}this.holdings.sort((t,e)=>e.intKey-t.intKey)})},computed:{showedHoldings(){return this.showHoldingHistory?this.holdings:this.holdings[0]?[this.holdings[0]]:[]}},methods:{gotoDetail:function(t,e){this.$router.push({path:`/manager/${t}/${e}`})},percentFormatter:(t,e,n)=>null==n?"NA":n.toFixed(2)+"%",percentFormatter2:(t,e,n)=>null==n?"NA":n+"%",switchShow(){this.showHoldingHistory=!this.showHoldingHistory}},components:{truncate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.show||"html"===t.type?t.show||"html"!==t.type?t._e():n("div",[n("span",{class:t.textClass,domProps:{innerHTML:t._s(t.truncate(t.text))}}),t._v(" "),t.text.length>=t.length?n("a",{class:t.actionClass,on:{click:function(e){t.toggle()}}},[t._v(t._s(t.clamp))]):t._e()]):n("div",[n("span",{class:t.textClass},[t._v(" "+t._s(t.truncate(t.text))+" ")]),t._v(" "),t.text.length>=t.length?n("a",{class:t.actionClass,on:{click:function(e){t.toggle()}}},[t._v(t._s(t.clamp))]):t._e()]),t._v(" "),t.show&&"html"!==t.type?n("div",[n("span",[t._v(t._s(t.text))]),t._v(" "),t.text.length>=t.length?n("a",{class:t.actionClass,on:{click:function(e){t.toggle()}}},[t._v(t._s(t.less))]):t._e()]):t.show&&"html"===t.type?n("div",[t.text.length>=t.length?n("div",{domProps:{innerHTML:t._s(t.text)}}):t._e(),t._v(" "),t.text.length>=t.length?n("a",{class:t.actionClass,on:{click:function(e){t.toggle()}}},[t._v(t._s(t.less))]):n("p",[t._v(" "+t._s(t.h2p(t.text))+" ")])]):t._e()])},staticRenderFns:[],_scopeId:"data-v-11b2e33f",name:"Truncate",props:{collapsedTextClass:{type:String,default:""},text:{type:String,required:!0},clamp:{type:String,default:"Read More"},length:{type:Number,default:100},less:{type:String,default:"Show Less"},type:{type:String,default:"text"},actionClass:{type:String,default:""}},data:function(){return{show:!1,counter:this.length}},computed:{textClass:function(){return this.text.length>this.length&&this.collapsedTextClass?this.collapsedTextClass:""}},methods:{truncate:function(t){return t?"html"===this.type?o(t,this.length):t.toString().substring(0,this.length):""},toggle:function(){var t=!this.show;this.show=t,this.$emit("toggle",t)},h2p:function(t){return o(t)}}}}},r=(n(364),n(0)),i=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("基金详情--"+t._s(t.params.name)+" 代码:"+t._s(t.params.code))]),t._v(" "),n("h3",[t._v("基金策略")]),t._v(" "),n("truncate",{staticClass:"strategy",attrs:{clamp:"Show more",length:200,text:t.strategy,clamp:"点击查看更多",less:"点击收起"}}),t._v(" "),n("br"),t._v(" "),n("h3",[t._v("基金管理人")]),t._v(" "),n("div",{staticClass:"link-text"},t._l(t.managers,(function(e){return n("span",{key:e.code,on:{click:function(n){return t.gotoDetail(e.code,e.name)}}},[t._v(t._s(e.name))])})),0),t._v(" "),n("br"),t._v(" "),n("h3",[t._v("基金持仓")]),t._v(" "),t._l(t.showedHoldings,(function(e,s){return n("div",{key:s},[n("h4",[t._v(t._s(e.year)+" 年 "+t._s(e.quarter)+" 季度")]),t._v(" "),n("table-plus",{attrs:{data:e.holdings}},[n("el-table-column",{attrs:{prop:"stockCode",label:"股票代码",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"stockName",label:"股票名称",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ratioinN",formatter:t.percentFormatter,label:"占净值比例",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ratioinS",formatter:t.percentFormatter,label:"占权益比",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ratioinO",formatter:t.percentFormatter2,label:"占股票流通比例",width:"130"}})],1)],1)})),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.switchShow}},[t._v(t._s(t.showHoldingHistory?"隐藏历史持仓":"显示历史持仓"))])],2)}),[],!1,null,"113c8998",null);e.default=i.exports},143:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i}));var s=n(22);function o(t){var e=t.code,n=window.location.href,o=encodeURIComponent(n);if(0!==e){if(401==e)return void Object(s.a)(`/login.html?url${o}`);var a=t.msg||"系统异常";Vue.modal?Vue.modal.toast(a):window.store?window.store.commit("TOAST",a):window.alertMsg&&alertMsg(a)}return t}function a(t,e={},n){return r(t,e,n,"post")}function r(e,n={},s,a){var r=t.Deferred();return t.ajax({url:e,data:"get"==a?n:JSON.stringify(n),method:a,dataType:"json",async:!s,contentType:"application/json",headers:{Authorization:window.localStorage.getItem("token")},processData:"get"==a}).done((function(t){t.code?(o(t),r.reject(t)):r.resolve(t)})).fail((function(t){o(t),Vue.modal&&Vue.modal.toast("网络异常"),window.store&&window.store.commit("网络异常"),window.alertMsg&&alertMsg("网络异常"),r.reject(t)})),r}function i(t,e,n){return r(t,e,n,"get")}}).call(this,n(1))},220:function(t,e,n){var s=n(365);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0};n(3)(s,o);s.locals&&(t.exports=s.locals)},363:function(t,e){t.exports=function(t,e,n){var s,o,a,r,i,l=10>e?e:10,c=["img","br"],d=[],u=0,h="",p='([\\w|-]+\\s*(=\\s*"[^"]*")?\\s*)*',g=new RegExp("<\\/?\\w+\\s*"+p+"\\s*\\/\\s*>"),f=new RegExp("<\\/?\\w+\\s*"+p+"\\s*\\/?\\s*>"),m=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w\-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,v=new RegExp("<img\\s*"+p+"\\s*\\/?\\s*>"),_=new RegExp("\\W+","g"),w=!0;function x(t){var e=t.indexOf(" ");if(-1===e&&-1===(e=t.indexOf(">")))throw new Error("HTML tag is not well-formed : "+t);return t.substring(1,e)}function b(t,s){var o,a,r=e-u,i=r,l=r<n.slop,c=l?r:n.slop-1,d=l?0:r-n.slop,h=s||r+n.slop;if(!n.truncateLastWord){if(o=t.slice(d,h),s&&o.length<=s)i=o.length;else for(;null!==(a=_.exec(o));){if(!(a.index<c)){if(a.index===c){i=r;break}i=r+(a.index-c);break}if(i=r-(c-a.index),0===a.index&&r<=1)break}t.charAt(i-1).match(/\s$/)&&i--}return i}for((n=n||{}).ellipsis=void 0!==n.ellipsis?n.ellipsis:"...",n.truncateLastWord=void 0===n.truncateLastWord||n.truncateLastWord,n.slop=void 0!==n.slop?n.slop:l;w;){if(!(w=f.exec(t))){if(u>=e)break;if(!(w=m.exec(t))||w.index>=e){h+=t.substring(0,b(t));break}for(;w;)s=w[0],o=w.index,h+=t.substring(0,o+s.length-u),t=t.substring(o+s.length),w=m.exec(t);break}if(s=w[0],o=w.index,u+o>e){h+=t.substring(0,b(t,o));break}u+=o,h+=t.substring(0,o),"/"===s[1]?(d.pop(),r=null):(r=g.exec(s))||(a=x(s),d.push(a)),h+=r?r[0]:s,t=t.substring(o+s.length)}return t.length>e-u&&n.ellipsis&&(h+=n.ellipsis),h+=(i="",d.reverse().forEach((function(t,e){-1===c.indexOf(t)&&(i+="</"+t+">")})),i),n.keepImageTag||(h=function(t){var e,n,s=v.exec(t);return s?(e=s.index,n=s[0].length,t.substring(0,e)+t.substring(e+n)):t}(h)),h}},364:function(t,e,n){"use strict";var s=n(220);n.n(s).a},365:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".link-text[data-v-113c8998]{text-decoration:underline}.link-text[data-v-113c8998]:hover{cursor:pointer}\n",""])}}]);
//# sourceMappingURL=7.bb35bf435088d8ee4b86.js.map